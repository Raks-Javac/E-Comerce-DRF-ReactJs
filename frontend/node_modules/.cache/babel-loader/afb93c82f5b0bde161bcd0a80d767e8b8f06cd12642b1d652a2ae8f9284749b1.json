{"ast":null,"code":"import _objectSpread from\"/Users/kudusrufai/Desktop/codes/backend/python/e_commerce/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{var _location$state,_location$state$from;const[formData,setFormData]=useState({email:'',password:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const{login}=useAuth();const navigate=useNavigate();const location=useLocation();const from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/';const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{await login(formData);navigate(from,{replace:true});}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Login failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"Sign in to your account\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:[\"Or\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"font-medium text-primary-600 hover:text-primary-500\",children:\"create a new account\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",autoComplete:\"email\",required:true,className:\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Email address\",value:formData.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",autoComplete:\"current-password\",required:true,className:\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Password\",value:formData.password,onChange:handleChange})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:loading?'Signing in...':'Sign in'})})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","Link","useLocation","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Login","_location$state","_location$state$from","formData","setFormData","email","password","loading","setLoading","error","setError","login","navigate","location","from","state","pathname","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","replace","_error$response","_error$response$data","response","data","detail","className","children","to","onSubmit","htmlFor","id","type","autoComplete","required","placeholder","onChange","disabled"],"sources":["/Users/kudusrufai/Desktop/codes/backend/python/e_commerce/frontend/src/pages/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Login: React.FC = () => {\n    const [formData, setFormData] = useState({\n        email: '',\n        password: '',\n    });\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const { login } = useAuth();\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    const from = (location.state as any)?.from?.pathname || '/';\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value,\n        });\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n        setError('');\n\n        try {\n            await login(formData);\n            navigate(from, { replace: true });\n        } catch (error: any) {\n            setError(error.response?.data?.detail || 'Login failed');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n            <div className=\"max-w-md w-full space-y-8\">\n                <div>\n                    <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n                        Sign in to your account\n                    </h2>\n                    <p className=\"mt-2 text-center text-sm text-gray-600\">\n                        Or{' '}\n                        <Link to=\"/register\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n                            create a new account\n                        </Link>\n                    </p>\n                </div>\n\n                <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n                    {error && (\n                        <div className=\"bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded\">\n                            {error}\n                        </div>\n                    )}\n\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                                Email address\n                            </label>\n                            <input\n                                id=\"email\"\n                                name=\"email\"\n                                type=\"email\"\n                                autoComplete=\"email\"\n                                required\n                                className=\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                                placeholder=\"Email address\"\n                                value={formData.email}\n                                onChange={handleChange}\n                            />\n                        </div>\n\n                        <div>\n                            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                                Password\n                            </label>\n                            <input\n                                id=\"password\"\n                                name=\"password\"\n                                type=\"password\"\n                                autoComplete=\"current-password\"\n                                required\n                                className=\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                                placeholder=\"Password\"\n                                value={formData.password}\n                                onChange={handleChange}\n                            />\n                        </div>\n                    </div>\n\n                    <div>\n                        <button\n                            type=\"submit\"\n                            disabled={loading}\n                            className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                        >\n                            {loading ? 'Signing in...' : 'Sign in'}\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}